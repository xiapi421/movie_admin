import{d as A,b as D,u as K,m as U,r as y,a as q,n as J,c as o,p as _,f as i,w as t,g as e,k as s,t as M,h as d,q as O,s as G,v as H,x as Q,y as W,z as X,j as k,e as Y,F as Z,A as $,K as P,B as ee}from"./index-qPmHQenT.js";import{u as te}from"./user-BVO6oFcr.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./agent-61WMLdmc.js";const oe={class:"h-14 flex items-center justify-center text-white text-xl font-bold"},ae={class:"flex items-center"},ne={class:"flex items-center"},se={class:"flex items-center cursor-pointer"},ue={class:"bg-white tabs-wrapper"},re=A({__name:"LayoutView",setup(de){D(()=>{b.userInfo=JSON.parse(localStorage.getItem("userInfo")||"{}")});const b=te(),w=K(),x=U(),p=y(!1),m=y("/"),u=q([{title:"首页",path:"/"}]),C=a=>{u.some(l=>l.path===a.path)||u.push(a)};J(()=>x.path,a=>{m.value=a,C({title:x.meta.title||"未命名",path:a})},{immediate:!0});const V=a=>{if(u.length<=1)return;const l=u;let n=m.value;n===a&&l.forEach((r,f)=>{if(r.path===a){const v=l[f+1]||l[f-1];v&&(n=v.path)}}),m.value=n,u.splice(u.findIndex(r=>r.path===a),1),w.push(n)},T=a=>{w.push(a.props.name)},B=()=>{p.value=!p.value},h=()=>{b.logout()};return(a,l)=>{const n=o("el-icon"),r=o("el-menu-item"),f=o("el-menu"),v=o("el-aside"),F=o("el-avatar"),I=o("el-dropdown-item"),S=o("el-dropdown-menu"),L=o("el-dropdown"),N=o("el-header"),j=o("el-tab-pane"),E=o("el-tabs"),R=o("router-view"),z=o("el-main"),g=o("el-container");return i(),_(g,{class:"h-screen"},{default:t(()=>[e(v,{width:p.value?"64px":"200px",class:"bg-gray-800"},{default:t(()=>[s("div",oe,M(d(b).site_name),1),e(f,{"default-active":d(x).path,collapse:p.value,"background-color":"#1F2937","text-color":"#fff","active-text-color":"#409EFF",router:"",class:"!border-0"},{default:t(()=>[e(r,{index:"/"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(O))]),_:1}),l[1]||(l[1]=s("span",null,"首页",-1))]),_:1}),e(r,{index:"/users"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(G))]),_:1}),l[2]||(l[2]=s("span",null,"下级列表",-1))]),_:1}),e(r,{index:"/withdraw"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(H))]),_:1}),l[3]||(l[3]=s("span",null,"申请提现",-1))]),_:1}),e(r,{onClick:h},{default:t(()=>[e(n,null,{default:t(()=>[e(d(Q))]),_:1}),l[4]||(l[4]=s("span",null,"退出登录",-1))]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),e(g,null,{default:t(()=>[e(N,{class:"bg-white flex items-center justify-between px-4"},{default:t(()=>[s("div",ae,[e(n,{class:"cursor-pointer text-xl",onClick:B},{default:t(()=>[p.value?(i(),_(d(W),{key:0})):(i(),_(d(X),{key:1}))]),_:1})]),s("div",ne,[e(L,null,{dropdown:t(()=>[e(S,null,{default:t(()=>[e(I,{onClick:h},{default:t(()=>l[6]||(l[6]=[k("退出登录")])),_:1})]),_:1})]),default:t(()=>[s("span",se,[e(F,{size:32,class:"mr-2"}),l[5]||(l[5]=k(" 管理员 "))])]),_:1})])]),_:1}),s("div",ue,[e(E,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=c=>m.value=c),type:"card",class:"tabs-container",onTabRemove:V,onTabClick:T},{default:t(()=>[(i(!0),Y(Z,null,$(u,c=>(i(),_(j,{key:c.path,label:c.title,name:c.path,closable:u.length>1},null,8,["label","name","closable"]))),128))]),_:1},8,["modelValue"])]),e(z,{class:"bg-gray-100 p-4"},{default:t(()=>[e(R,null,{default:t(({Component:c})=>[(i(),_(P,null,[(i(),_(ee(c)))],1024))]),_:1})]),_:1})]),_:1})]),_:1})}}}),me=le(re,[["__scopeId","data-v-1e9a8e95"]]);export{me as default};
