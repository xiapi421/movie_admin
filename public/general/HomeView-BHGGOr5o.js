import{d as w,u as V,r,b as N,c as v,e as f,f as y,k as e,g as s,w as o,t as d,h as u,v as j,C as k,D as C,E as D,j as H,G as I}from"./index-qPmHQenT.js";import{i as Y}from"./agent-61WMLdmc.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"p-4 space-y-4"},M={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},R={class:"flex items-center justify-between"},$={class:"space-y-1"},q={class:"text-xl font-bold text-primary"},G={class:"flex items-center justify-between"},S={class:"space-y-1"},T={class:"text-xl font-bold text-primary"},U={class:"flex items-center justify-between"},z={class:"space-y-1"},A={class:"text-xl font-bold text-primary"},F={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},J={class:"text-center space-y-2"},K={class:"flex items-center justify-center gap-2"},L={class:"text-2xl font-bold text-yellow-600"},O={class:"text-center space-y-2"},P={class:"flex items-center justify-center gap-2"},Q={class:"text-2xl font-bold text-blue-600"},W={key:0,class:"space-y-4"},X={class:"flex items-center gap-2"},Z={class:"text-lg font-medium"},ee={class:"text-lg"},te={class:"text-gray-400 text-sm"},se={class:"flex justify-end"},oe=w({__name:"HomeView",setup(ae){V();const _=r(!1),a=r(0),i=r({balance:0,inviteCode:"",username:"",id:""});r({income:0,orders:0,ip:0,conversion:0,last_money:0,last_order:0});const l=r([]),g=()=>{a.value<l.value.length-1?a.value++:(_.value=!1,a.value=0)},x=()=>{l.value.length>0&&(a.value=0,_.value=!0)},p=async()=>{try{const n=await Y();i.value={money:n.data.agent.money,rate:n.data.rate,today_money:n.data.today_money,today_sell:n.data.today_sell,yesterday_sell:n.data.yesterday_sell},l.value=n.data.notices.map(t=>({title:t.title,content:t.contenet,time:t.create_time})),x()}catch(n){console.log(n)}};return N(()=>{p()}),(n,t)=>{const c=v("el-card"),m=v("el-icon"),h=v("el-button");return y(),f("div",E,[e("div",M,[s(c,{shadow:"hover",class:"bg-gradient-to-br from-gray-50 to-gray-100"},{default:o(()=>[e("div",R,[e("div",$,[t[1]||(t[1]=e("div",{class:"text-gray-500 text-sm"},"余额",-1)),e("div",q,d(i.value.money),1)])])]),_:1}),s(c,{shadow:"hover",class:"bg-gradient-to-br from-gray-50 to-gray-100"},{default:o(()=>[e("div",G,[e("div",S,[t[2]||(t[2]=e("div",{class:"text-gray-500 text-sm"},"分润比例",-1)),e("div",T,d(i.value.rate)+"% ",1)])])]),_:1}),s(c,{shadow:"hover",class:"bg-gradient-to-br from-gray-50 to-gray-100"},{default:o(()=>[e("div",U,[e("div",z,[t[3]||(t[3]=e("div",{class:"text-gray-500 text-sm"},"所有代理余额",-1)),e("div",A,d(i.value.today_money),1)])])]),_:1})]),e("div",F,[s(c,{shadow:"hover",class:"bg-gradient-to-br from-yellow-50 to-yellow-100"},{default:o(()=>[e("div",J,[e("div",K,[s(m,{class:"text-yellow-500"},{default:o(()=>[s(u(j))]),_:1}),t[4]||(t[4]=e("span",{class:"text-gray-600"},"今日销售额",-1))]),e("div",L,"￥"+d(i.value.today_sell),1)])]),_:1}),s(c,{shadow:"hover",class:"bg-gradient-to-br from-blue-50 to-blue-100"},{default:o(()=>[e("div",O,[e("div",P,[s(m,{class:"text-blue-500"},{default:o(()=>[s(u(k))]),_:1}),t[5]||(t[5]=e("span",{class:"text-gray-600"},"昨日销售额",-1))]),e("div",Q,d(i.value.yesterday_sell),1)])]),_:1})]),s(u(I),{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=b=>_.value=b),title:`公告 (${a.value+1}/${l.value.length})`,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:o(()=>[e("div",se,[s(h,{type:"primary",onClick:g},{default:o(()=>[H(d(a.value<l.value.length-1?"下一条":"关闭"),1)]),_:1})])]),default:o(()=>[l.value.length>0?(y(),f("div",W,[e("div",X,[e("h3",Z,d(l.value[a.value].title),1)]),e("p",ee,d(l.value[a.value].content),1),e("div",te,d(u(D)(l.value[a.value].time*1e3).format("YYYY-MM-DD HH:mm:ss")),1)])):C("",!0)]),_:1},8,["modelValue","title"])])}}}),ie=B(oe,[["__scopeId","data-v-fb41dbdf"]]);export{ie as default};
