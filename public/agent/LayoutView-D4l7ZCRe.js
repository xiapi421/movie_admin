import{d as A,u as I,m as K,r as y,a as U,n as q,c as n,p,f as _,w as t,g as e,k as s,t as G,h as d,q as H,i as J,s as M,v as O,x as Q,y as W,z as X,A as Y,B as Z,j as k,e as $,F as P,C as ee,K as te,D as le}from"./index-BFABqwMi.js";import{u as ne}from"./user-YNSa3SOW.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./agent-B-nrxP3w.js";const oe={class:"h-14 flex items-center justify-center text-white text-xl font-bold"},se={class:"flex items-center"},ue={class:"flex items-center"},de={class:"flex items-center cursor-pointer"},re={class:"bg-white tabs-wrapper"},ie=A({__name:"LayoutView",setup(_e){const b=ne(),w=I(),x=K(),c=y(!1),f=y("/"),r=U([{title:"首页",path:"/"}]),C=o=>{r.some(l=>l.path===o.path)||r.push(o)};q(()=>x.path,o=>{f.value=o,C({title:x.meta.title||"未命名",path:o})},{immediate:!0});const V=o=>{if(r.length<=1)return;const l=r;let a=f.value;a===o&&l.forEach((u,m)=>{if(u.path===o){const v=l[m+1]||l[m-1];v&&(a=v.path)}}),f.value=a,r.splice(r.findIndex(u=>u.path===o),1),w.push(a)},T=o=>{w.push(o.props.name)},B=()=>{c.value=!c.value},h=()=>{b.logout()};return(o,l)=>{const a=n("el-icon"),u=n("el-menu-item"),m=n("el-menu"),v=n("el-aside"),F=n("el-avatar"),L=n("el-dropdown-item"),j=n("el-dropdown-menu"),D=n("el-dropdown"),E=n("el-header"),N=n("el-tab-pane"),R=n("el-tabs"),S=n("router-view"),z=n("el-main"),g=n("el-container");return _(),p(g,{class:"h-screen"},{default:t(()=>[e(v,{width:c.value?"64px":"200px",class:"bg-gray-800"},{default:t(()=>[s("div",oe,G(d(b).site_name),1),e(m,{"default-active":d(x).path,collapse:c.value,"background-color":"#1F2937","text-color":"#fff","active-text-color":"#409EFF",router:"",class:"!border-0"},{default:t(()=>[e(u,{index:"/"},{default:t(()=>[e(a,null,{default:t(()=>[e(d(H))]),_:1}),l[1]||(l[1]=s("span",null,"首页",-1))]),_:1}),e(u,{index:"/settings"},{default:t(()=>[e(a,null,{default:t(()=>[e(d(J))]),_:1}),l[2]||(l[2]=s("span",null,"打赏设置",-1))]),_:1}),e(u,{index:"/theme"},{default:t(()=>[e(a,null,{default:t(()=>[e(d(M))]),_:1}),l[3]||(l[3]=s("span",null,"打赏皮肤",-1))]),_:1}),e(u,{index:"/promote"},{default:t(()=>[e(a,null,{default:t(()=>[e(d(O))]),_:1}),l[4]||(l[4]=s("span",null,"推广链接",-1))]),_:1}),e(u,{index:"/income"},{default:t(()=>[e(a,null,{default:t(()=>[e(d(Q))]),_:1}),l[5]||(l[5]=s("span",null,"收入记录",-1))]),_:1}),e(u,{index:"/withdraw"},{default:t(()=>[e(a,null,{default:t(()=>[e(d(W))]),_:1}),l[6]||(l[6]=s("span",null,"申请提现",-1))]),_:1}),e(u,{onClick:h},{default:t(()=>[e(a,null,{default:t(()=>[e(d(X))]),_:1}),l[7]||(l[7]=s("span",null,"退出登录",-1))]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),e(g,null,{default:t(()=>[e(E,{class:"bg-white flex items-center justify-between px-4"},{default:t(()=>[s("div",se,[e(a,{class:"cursor-pointer text-xl",onClick:B},{default:t(()=>[c.value?(_(),p(d(Y),{key:0})):(_(),p(d(Z),{key:1}))]),_:1})]),s("div",ue,[e(D,null,{dropdown:t(()=>[e(j,null,{default:t(()=>[e(L,{onClick:h},{default:t(()=>l[9]||(l[9]=[k("退出登录")])),_:1})]),_:1})]),default:t(()=>[s("span",de,[e(F,{size:32,class:"mr-2"}),l[8]||(l[8]=k(" 管理员 "))])]),_:1})])]),_:1}),s("div",re,[e(R,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=i=>f.value=i),type:"card",class:"tabs-container",onTabRemove:V,onTabClick:T},{default:t(()=>[(_(!0),$(P,null,ee(r,i=>(_(),p(N,{key:i.path,label:i.title,name:i.path,closable:r.length>1},null,8,["label","name","closable"]))),128))]),_:1},8,["modelValue"])]),e(z,{class:"bg-gray-100 p-4"},{default:t(()=>[e(S,null,{default:t(({Component:i})=>[(_(),p(te,null,[(_(),p(le(i)))],1024))]),_:1})]),_:1})]),_:1})]),_:1})}}}),ve=ae(ie,[["__scopeId","data-v-964ef188"]]);export{ve as default};
