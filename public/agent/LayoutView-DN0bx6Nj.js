import{d as z,u as A,m as K,r as y,b as U,a as q,n as J,c as a,p,f as _,w as t,g as e,k as s,t as M,h as d,q as O,i as G,s as H,v as Q,x as W,y as X,z as Y,A as Z,B as $,j as k,e as P,F as ee,C as te,K as le,D as ae}from"./index-bEb6HcL9.js";import{u as ne}from"./user-B4MZEepG.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./agent-CUdvywsM.js";const se={class:"h-14 flex items-center justify-center text-white text-xl font-bold"},ue={class:"flex items-center"},de={class:"flex items-center"},re={class:"flex items-center cursor-pointer"},ie={class:"bg-white tabs-wrapper"},_e=z({__name:"LayoutView",setup(pe){const b=ne(),w=A(),x=K(),c=y(!1),f=y("/");U(()=>{b.userInfo=JSON.parse(localStorage.getItem("userInfo")||"{}")});const r=q([{title:"首页",path:"/"}]),C=o=>{r.some(l=>l.path===o.path)||r.push(o)};J(()=>x.path,o=>{f.value=o,C({title:x.meta.title||"未命名",path:o})},{immediate:!0});const V=o=>{if(r.length<=1)return;const l=r;let n=f.value;n===o&&l.forEach((u,m)=>{if(u.path===o){const v=l[m+1]||l[m-1];v&&(n=v.path)}}),f.value=n,r.splice(r.findIndex(u=>u.path===o),1),w.push(n)},T=o=>{w.push(o.props.name)},B=()=>{c.value=!c.value},h=()=>{b.logout()};return(o,l)=>{const n=a("el-icon"),u=a("el-menu-item"),m=a("el-menu"),v=a("el-aside"),F=a("el-avatar"),I=a("el-dropdown-item"),S=a("el-dropdown-menu"),L=a("el-dropdown"),N=a("el-header"),j=a("el-tab-pane"),D=a("el-tabs"),E=a("router-view"),R=a("el-main"),g=a("el-container");return _(),p(g,{class:"h-screen"},{default:t(()=>[e(v,{width:c.value?"64px":"200px",class:"bg-gray-800"},{default:t(()=>[s("div",se,M(d(b).site_name),1),e(m,{"default-active":d(x).path,collapse:c.value,"background-color":"#1F2937","text-color":"#fff","active-text-color":"#409EFF",router:"",class:"!border-0"},{default:t(()=>[e(u,{index:"/"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(O))]),_:1}),l[1]||(l[1]=s("span",null,"首页",-1))]),_:1}),e(u,{index:"/settings"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(G))]),_:1}),l[2]||(l[2]=s("span",null,"打赏设置",-1))]),_:1}),e(u,{index:"/theme"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(H))]),_:1}),l[3]||(l[3]=s("span",null,"打赏皮肤",-1))]),_:1}),e(u,{index:"/promote"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(Q))]),_:1}),l[4]||(l[4]=s("span",null,"推广链接",-1))]),_:1}),e(u,{index:"/income"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(W))]),_:1}),l[5]||(l[5]=s("span",null,"收入记录",-1))]),_:1}),e(u,{index:"/withdraw"},{default:t(()=>[e(n,null,{default:t(()=>[e(d(X))]),_:1}),l[6]||(l[6]=s("span",null,"申请提现",-1))]),_:1}),e(u,{onClick:h},{default:t(()=>[e(n,null,{default:t(()=>[e(d(Y))]),_:1}),l[7]||(l[7]=s("span",null,"退出登录",-1))]),_:1})]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),e(g,null,{default:t(()=>[e(N,{class:"bg-white flex items-center justify-between px-4"},{default:t(()=>[s("div",ue,[e(n,{class:"cursor-pointer text-xl",onClick:B},{default:t(()=>[c.value?(_(),p(d(Z),{key:0})):(_(),p(d($),{key:1}))]),_:1})]),s("div",de,[e(L,null,{dropdown:t(()=>[e(S,null,{default:t(()=>[e(I,{onClick:h},{default:t(()=>l[9]||(l[9]=[k("退出登录")])),_:1})]),_:1})]),default:t(()=>[s("span",re,[e(F,{size:32,class:"mr-2"}),l[8]||(l[8]=k(" 管理员 "))])]),_:1})])]),_:1}),s("div",ie,[e(D,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=i=>f.value=i),type:"card",class:"tabs-container",onTabRemove:V,onTabClick:T},{default:t(()=>[(_(!0),P(ee,null,te(r,i=>(_(),p(j,{key:i.path,label:i.title,name:i.path,closable:r.length>1},null,8,["label","name","closable"]))),128))]),_:1},8,["modelValue"])]),e(R,{class:"bg-gray-100 p-4"},{default:t(()=>[e(E,null,{default:t(({Component:i})=>[(_(),p(le,null,[(_(),p(ae(i)))],1024))]),_:1})]),_:1})]),_:1})]),_:1})}}}),be=oe(_e,[["__scopeId","data-v-1a2bfa74"]]);export{be as default};
