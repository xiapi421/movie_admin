import{y as h,a6 as w}from"./index-DTOLvBk7.js";import{_ as y}from"./popupForm.vue_vue_type_script_setup_true_lang-H1oEaoX4.js";import{d as g,b as k,T,a as v}from"./index-DmWetYYC.js";import{_ as E}from"./loginLog.vue_vue_type_script_setup_true_lang-Da-KjdD2.js";import{e as q,p as c,ar as N,z as R,m as x,o as d,h as B,v as s,N as V,V as A,l}from"./vue-Dm6y8Cub.js";import"./index-Cb4p5Nhr.js";import"./index-CIBlMfEN.js";import"./real-BlO1Buru.js";const G={class:"default-main ba-table-box"},j=q({name:"user/user",__name:"index",setup(I){const{t:e}=h.useI18n(),n=c(),u=c();let o=g(["edit","delete"]);o=[{render:"tipButton",name:"info",title:"登录日志",text:"登录日志",type:"primary",icon:"fa fa-search-plus",class:"table-row-info",disabledTip:!1,click:r=>{var a;(a=u.value)==null||a.open(r.id)},display:(r,a)=>!0,disabled:(r,a)=>!1,attr:{}}].concat(o);const t=new k(new w("/admin/user.User/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("user.user.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:e("user.user.username"),prop:"username",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("user.user.money"),prop:"money",align:"center",operator:"RANGE",sortable:!0},{label:e("user.user.invite_code"),prop:"invite_code",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:"登录状态",prop:"status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("user.user.status 0"),1:e("user.user.status 1")}},{label:e("user.user.share_status"),prop:"share_status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("user.user.share_status 0"),1:e("user.user.share_status 1")}},{label:e("user.user.pay_status"),prop:"pay_status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("user.user.pay_status 0"),1:e("user.user.pay_status 1")}},{label:e("user.user.withdraw_status"),prop:"withdraw_status",align:"center",render:"switch",operator:"eq",sortable:!1,replaceValue:{0:e("user.user.withdraw_status 0"),1:e("user.user.withdraw_status 1")}},{label:e("user.user.lastday_sell"),prop:"lastday_sell",align:"center",operator:"RANGE",sortable:!0,width:160},{label:e("user.user.today_sell"),prop:"today_sell",align:"center",operator:"RANGE",sortable:!0,width:160},{label:e("user.user.lastday_money"),prop:"lastday_money",align:"center",operator:"RANGE",sortable:!0,width:160},{label:"上次登录",prop:"last_login_time",align:"center",operator:"RANGE",sortable:"custom",width:160,render:"tag",custom:{三天内有登录:"primary",三天内未登录:"warning",七天内未登录:"danger"},formatter:(r,a,i,C)=>{const m=new Date(r.last_login_time).getTime()*1e3,b=new Date().getTime(),_=3*24*60*60*1e3,f=7*24*60*60*1e3,p=b-m;return p>f?"七天内未登录":p>_?"三天内未登录":"三天内有登录"}},{label:e("Operate"),align:"center",width:200,render:"buttons",buttons:o,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{status:"1",share_status:"1",pay_status:"1",withdraw_status:"1"}});return N("baTable",t),R(()=>{var r;t.table.ref=n.value,t.mount(),(r=t.getIndex())==null||r.then(()=>{t.initSort(),t.dragSort()})}),(r,a)=>{const i=x("el-alert");return d(),B("div",G,[s(t).table.remark?(d(),V(i,{key:0,class:"ba-table-alert",title:s(t).table.remark,type:"info","show-icon":""},null,8,["title"])):A("",!0),l(T,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":s(e)("Quick search placeholder",{fields:s(e)("user.user.quick Search Fields")})},null,8,["quick-search-placeholder"]),l(v,{ref_key:"tableRef",ref:n},null,512),l(y),l(E,{ref_key:"loginLogRef",ref:u},null,512)])}}});export{j as default};
