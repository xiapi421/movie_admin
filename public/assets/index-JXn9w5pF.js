import{y as w,a6 as E,ar as n,_ as F}from"./index-BNSjJAqz.js";import{_ as I}from"./popupForm.vue_vue_type_script_setup_true_lang-BvtfrtKO.js";import{d as A,b as N,T as q,a as R}from"./index-Cqh8zkii.js";import{i as S}from"./dashboard-CXYTA9wh.js";import{e as B,p as h,ar as C,z as D,a9 as T,m as u,W as V,o as v,h as G,v as p,N as g,V as M,k as e,l,O as o,Z as $}from"./vue-Dm6y8Cub.js";import"./index-aYUbmwsO.js";import"./validate-KNdlp4iE.js";import"./index-Ds2FMZnb.js";const K={class:"default-main ba-table-box"},L={class:"small-panel-box"},P={class:"small-panel user-reg suspension"},j={class:"small-panel-content"},O={class:"content-left"},H={class:"small-panel file suspension"},Q={class:"small-panel-content"},U={class:"content-left"},W={class:"small-panel users suspension"},Z={class:"small-panel-content"},J={class:"content-left"},X={class:"small-panel addons suspension"},Y={class:"small-panel-content"},ee={class:"content-left"},le={class:"small-panel-box"},ae={class:"small-panel user-reg suspension"},te={class:"small-panel-content"},se={class:"content-left"},oe={class:"small-panel file suspension"},re={class:"small-panel-content"},ne={class:"content-left"},de={class:"small-panel users suspension"},ie={class:"small-panel-content"},ce={class:"content-left"},_e={class:"small-panel addons suspension"},ue={class:"small-panel-content"},pe={class:"content-left"},me=B({name:"order",__name:"index",setup(ve){const{t}=w.useI18n(),f=h();A(["edit","delete"]);let b;const s=h({today_sell:0,today_order:0,last_sell:0,last_order:0,today_agent_money:0,last_agent_money:0,today_kl:0,last_kl:0}),d={fontSize:"28px"},m=()=>{var _;S().then(a=>{s.value.today_sell=a.data.today_sell,s.value.today_order=a.data.today_order,s.value.last_sell=a.data.last_sell,s.value.last_order=a.data.last_order,s.value.today_agent_money=a.data.today_agent_money,s.value.last_agent_money=a.data.last_agent_money,s.value.today_kl=a.data.today_kl,s.value.last_kl=a.data.last_kl}),(_=r.getIndex())==null||_.then(()=>{r.initSort(),r.dragSort()})},r=new N(new E("/admin/Order/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:t("order.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:t("order.order_sn"),prop:"order_sn",align:"center",operatorPlaceholder:t("Fuzzy query"),operator:"LIKE",sortable:!1,width:220},{label:t("order.out_order_sn"),prop:"out_order_sn",align:"center",operatorPlaceholder:t("Fuzzy query"),operator:"LIKE",sortable:!1,width:240},{label:t("order.ip"),prop:"ip",align:"center",operatorPlaceholder:t("Fuzzy query"),operator:"LIKE",sortable:!1},{label:t("order.user__username"),prop:"user.username",align:"center",operatorPlaceholder:t("Fuzzy query"),render:"tags",operator:"LIKE"},{label:t("order.video_id"),prop:"video_id",align:"center",operator:"RANGE",sortable:!1},{label:t("order.money"),prop:"money",align:"center",operator:"RANGE",sortable:!1},{label:t("order.subscribe_type"),prop:"subscribe_type",align:"center",render:"tag",operator:"eq",sortable:!1,replaceValue:{single:t("order.subscribe_type single"),day:t("order.subscribe_type day"),week:t("order.subscribe_type week"),month:t("order.subscribe_type month")}},{label:t("order.pay_id"),prop:"pay_id",align:"center",operator:"RANGE",sortable:!1},{label:t("order.status"),prop:"status",align:"center",render:"tag",operator:"eq",sortable:!1,replaceValue:{0:t("order.status 0"),1:t("order.status 1"),3:"扣量"},custom:{0:"primary",1:"success",3:"danger"}},{label:t("order.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:t("order.notify_time"),prop:"notify_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"}],dblClickNotEditColumn:["all"]},{defaultItems:{subscribe_type:"single"}});return C("baTable",r),D(()=>{var _;r.table.ref=f.value,r.mount(),(_=r.getIndex())==null||_.then(()=>{r.initSort(),r.dragSort()}),m(),b=window.setInterval(m,1e4)}),T(()=>{clearInterval(b)}),(_,a)=>{const k=u("el-alert"),i=u("el-statistic"),c=u("el-col"),y=u("el-row"),x=u("el-button"),z=V("blur");return v(),G("div",K,[p(r).table.remark?(v(),g(k,{key:0,class:"ba-table-alert",title:p(r).table.remark,type:"info","show-icon":""},null,8,["title"])):M("",!0),e("div",L,[l(y,{gutter:20},{default:o(()=>[l(c,{sm:12,lg:6},{default:o(()=>[e("div",P,[a[1]||(a[1]=e("div",{class:"small-panel-title"},"今日金额",-1)),e("div",j,[e("div",O,[l(n,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),l(i,{value:s.value.today_sell,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",H,[a[2]||(a[2]=e("div",{class:"small-panel-title"},"今日单量",-1)),e("div",Q,[e("div",U,[l(n,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),l(i,{value:s.value.today_order,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",W,[a[3]||(a[3]=e("div",{class:"small-panel-title"},"今日代理余额",-1)),e("div",Z,[e("div",J,[l(n,{color:"#74A8B5",size:"20",name:"fa fa-users"}),l(i,{value:s.value.today_agent_money,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",X,[a[4]||(a[4]=e("div",{class:"small-panel-title"},"今日扣量",-1)),e("div",Y,[e("div",ee,[l(n,{color:"#F48595",size:"20",name:"fa fa-object-group"}),l(i,{value:s.value.today_kl,"value-style":d},null,8,["value"])])])])]),_:1})]),_:1})]),e("div",le,[l(y,{gutter:20},{default:o(()=>[l(c,{sm:12,lg:6},{default:o(()=>[e("div",ae,[a[5]||(a[5]=e("div",{class:"small-panel-title"},"昨日金额",-1)),e("div",te,[e("div",se,[l(n,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),l(i,{value:s.value.last_sell,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",oe,[a[6]||(a[6]=e("div",{class:"small-panel-title"},"昨日单量",-1)),e("div",re,[e("div",ne,[l(n,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),l(i,{value:s.value.last_order,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",de,[a[7]||(a[7]=e("div",{class:"small-panel-title"},"昨日代理余额",-1)),e("div",ie,[e("div",ce,[l(n,{color:"#74A8B5",size:"20",name:"fa fa-users"}),l(i,{value:s.value.last_agent_money,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",_e,[a[8]||(a[8]=e("div",{class:"small-panel-title"},"昨日扣量",-1)),e("div",ue,[e("div",pe,[l(n,{color:"#F48595",size:"20",name:"fa fa-object-group"}),l(i,{value:s.value.last_kl,"value-style":d},null,8,["value"])])])])]),_:1})]),_:1})]),l(q,{buttons:["refresh","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":p(t)("Quick search placeholder",{fields:p(t)("order.quick Search Fields")})},{default:o(()=>[$((v(),g(x,{class:"table-header-operate",type:"success",onClick:a[0]||(a[0]=fe=>m()),style:{"margin-left":"10px"}},{default:o(()=>[l(n,{color:"#ffffff",name:"el-icon-RefreshRight"}),a[9]||(a[9]=e("span",{class:"table-header-operate-text"},"手动刷新",-1))]),_:1})),[[z]])]),_:1},8,["quick-search-placeholder"]),l(R,{ref_key:"tableRef",ref:f},null,512),l(I)])}}}),Ee=F(me,[["__scopeId","data-v-b214908b"]]);export{Ee as default};
