import{y as E,a6 as F,ar as n,_ as I}from"./index-DTOLvBk7.js";import{_ as A}from"./popupForm.vue_vue_type_script_setup_true_lang-jdFo2fn7.js";import{d as N,b as q,T as R,a as S}from"./index-DmWetYYC.js";import{i as B}from"./dashboard-BeYBj24v.js";import{e as C,p as g,ar as D,z as T,a9 as V,m as _,W as G,o as v,h as M,v as p,N as h,V as $,k as e,l,O as o,Z as K}from"./vue-Dm6y8Cub.js";import"./index-Cb4p5Nhr.js";import"./validate-9BqWsJG7.js";import"./index-CIBlMfEN.js";const L={class:"default-main ba-table-box"},O={class:"small-panel-box"},P={class:"small-panel user-reg suspension"},j={class:"small-panel-content"},H={class:"content-left"},Q={class:"small-panel file suspension"},U={class:"small-panel-content"},W={class:"content-left"},Z={class:"small-panel users suspension"},J={class:"small-panel-content"},X={class:"content-left"},Y={class:"small-panel addons suspension"},ee={class:"small-panel-content"},le={class:"content-left"},te={class:"small-panel-box"},ae={class:"small-panel user-reg suspension"},se={class:"small-panel-content"},oe={class:"content-left"},re={class:"small-panel file suspension"},ne={class:"small-panel-content"},de={class:"content-left"},ie={class:"small-panel users suspension"},ce={class:"small-panel-content"},ue={class:"content-left"},_e={class:"small-panel addons suspension"},pe={class:"small-panel-content"},me={class:"content-left"},ve=C({name:"order",__name:"index",setup(fe){const{t:a}=E.useI18n(),f=g(),k=N(["edit","delete"]);let b;const s=g({today_sell:0,today_order:0,last_sell:0,last_order:0,today_agent_money:0,last_agent_money:0,today_kl:0,last_kl:0}),d={fontSize:"28px"},m=()=>{var u;B().then(t=>{s.value.today_sell=t.data.today_sell,s.value.today_order=t.data.today_order,s.value.last_sell=t.data.last_sell,s.value.last_order=t.data.last_order,s.value.today_agent_money=t.data.today_agent_money,s.value.last_agent_money=t.data.last_agent_money,s.value.today_kl=t.data.today_kl,s.value.last_kl=t.data.last_kl}),(u=r.getIndex())==null||u.then(()=>{r.initSort(),r.dragSort()})},r=new q(new F("/admin/Order/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:a("order.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:a("order.order_sn"),prop:"order_sn",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:"LIKE",sortable:!1},{label:a("order.out_order_sn"),prop:"out_order_sn",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:"LIKE",sortable:!1},{label:a("order.ip"),prop:"ip",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:"LIKE",sortable:!1},{label:a("order.user__username"),prop:"user.username",align:"center",operatorPlaceholder:a("Fuzzy query"),render:"tags",operator:"LIKE"},{label:a("order.video_id"),prop:"video_id",align:"center",operator:"RANGE",sortable:!1},{label:a("order.money"),prop:"money",align:"center",operator:"RANGE",sortable:!1},{label:a("order.subscribe_type"),prop:"subscribe_type",align:"center",render:"tag",operator:"eq",sortable:!1,replaceValue:{single:a("order.subscribe_type single"),day:a("order.subscribe_type day"),week:a("order.subscribe_type week"),month:a("order.subscribe_type month")}},{label:a("order.pay_id"),prop:"pay_id",align:"center",operator:"RANGE",sortable:!1},{label:a("order.status"),prop:"status",align:"center",render:"tag",operator:"eq",sortable:!1,replaceValue:{0:a("order.status 0"),1:a("order.status 1"),2:a("order.status 2")},custom:{0:"primary",1:"success",2:"danger"}},{label:a("order.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:a("order.notify_time"),prop:"notify_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:a("Operate"),align:"center",width:100,render:"buttons",buttons:k,operator:!1}],dblClickNotEditColumn:[void 0,"status"]},{defaultItems:{subscribe_type:"single"}});return D("baTable",r),T(()=>{var u;r.table.ref=f.value,r.mount(),(u=r.getIndex())==null||u.then(()=>{r.initSort(),r.dragSort()}),m(),b=window.setInterval(m,1e4)}),V(()=>{clearInterval(b)}),(u,t)=>{const x=_("el-alert"),i=_("el-statistic"),c=_("el-col"),y=_("el-row"),z=_("el-button"),w=G("blur");return v(),M("div",L,[p(r).table.remark?(v(),h(x,{key:0,class:"ba-table-alert",title:p(r).table.remark,type:"info","show-icon":""},null,8,["title"])):$("",!0),e("div",O,[l(y,{gutter:20},{default:o(()=>[l(c,{sm:12,lg:6},{default:o(()=>[e("div",P,[t[1]||(t[1]=e("div",{class:"small-panel-title"},"今日金额",-1)),e("div",j,[e("div",H,[l(n,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),l(i,{value:s.value.today_sell,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",Q,[t[2]||(t[2]=e("div",{class:"small-panel-title"},"今日单量",-1)),e("div",U,[e("div",W,[l(n,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),l(i,{value:s.value.today_order,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",Z,[t[3]||(t[3]=e("div",{class:"small-panel-title"},"今日代理余额",-1)),e("div",J,[e("div",X,[l(n,{color:"#74A8B5",size:"20",name:"fa fa-users"}),l(i,{value:s.value.today_agent_money,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",Y,[t[4]||(t[4]=e("div",{class:"small-panel-title"},"今日扣量",-1)),e("div",ee,[e("div",le,[l(n,{color:"#F48595",size:"20",name:"fa fa-object-group"}),l(i,{value:s.value.today_kl,"value-style":d},null,8,["value"])])])])]),_:1})]),_:1})]),e("div",te,[l(y,{gutter:20},{default:o(()=>[l(c,{sm:12,lg:6},{default:o(()=>[e("div",ae,[t[5]||(t[5]=e("div",{class:"small-panel-title"},"昨日金额",-1)),e("div",se,[e("div",oe,[l(n,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),l(i,{value:s.value.last_sell,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",re,[t[6]||(t[6]=e("div",{class:"small-panel-title"},"昨日单量",-1)),e("div",ne,[e("div",de,[l(n,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),l(i,{value:s.value.last_order,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",ie,[t[7]||(t[7]=e("div",{class:"small-panel-title"},"昨日代理余额",-1)),e("div",ce,[e("div",ue,[l(n,{color:"#74A8B5",size:"20",name:"fa fa-users"}),l(i,{value:s.value.last_agent_money,"value-style":d},null,8,["value"])])])])]),_:1}),l(c,{sm:12,lg:6},{default:o(()=>[e("div",_e,[t[8]||(t[8]=e("div",{class:"small-panel-title"},"昨日扣量",-1)),e("div",pe,[e("div",me,[l(n,{color:"#F48595",size:"20",name:"fa fa-object-group"}),l(i,{value:s.value.last_kl,"value-style":d},null,8,["value"])])])])]),_:1})]),_:1})]),l(R,{buttons:["refresh","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":p(a)("Quick search placeholder",{fields:p(a)("order.quick Search Fields")})},{default:o(()=>[K((v(),h(z,{class:"table-header-operate",type:"success",onClick:t[0]||(t[0]=be=>m()),style:{"margin-left":"10px"}},{default:o(()=>[l(n,{color:"#ffffff",name:"el-icon-RefreshRight"}),t[9]||(t[9]=e("span",{class:"table-header-operate-text"},"手动刷新",-1))]),_:1})),[[w]])]),_:1},8,["quick-search-placeholder"]),l(S,{ref_key:"tableRef",ref:f},null,512),l(A)])}}}),Fe=I(ve,[["__scopeId","data-v-77dfe799"]]);export{Fe as default};
