import{y as B,n as R,w as C,L as P,ap as g,i as U,ag as A,M as f,aq as p,_ as L}from"./index-HzCKsurh.js";import{i as E}from"./dashboard-CmT290PH.js";import{e as V,a as z,aG as j,p as G,z as Y,ah as J,a9 as O,B as q,m as k,o as K,h as $,k as e,l as t,O as c,v,T as h,U as H,n as Q}from"./vue-Dm6y8Cub.js";const X="/assets/coffee-BJTYvIRC.svg",Z="/assets/header-1-DyUuBJUw.svg",ee={class:"default-main"},se={class:"banner"},ae={class:"welcome suspension"},te=["src"],le={class:"welcome-text"},oe={class:"welcome-title"},ne={class:"welcome-note"},ie={class:"working"},de=["src"],re={class:"working-text"},ce={class:"time"},ue={class:"small-panel-box"},me={class:"small-panel user-reg suspension"},_e={class:"small-panel-content"},ve={class:"content-left"},fe={class:"small-panel file suspension"},pe={class:"small-panel-content"},he={class:"content-left"},ge={class:"small-panel users suspension"},ke={class:"small-panel-content"},ye={class:"content-left"},Te={class:"small-panel addons suspension"},we={class:"small-panel-content"},be={class:"content-left"},Ie={class:"small-panel-box"},Ne={class:"small-panel user-reg suspension"},xe={class:"small-panel-content"},ze={class:"content-left"},Fe={class:"small-panel file suspension"},De={class:"small-panel-content"},Me={class:"content-left"},Se={class:"small-panel users suspension"},We={class:"small-panel-content"},Be={class:"content-left"},Re={class:"small-panel addons suspension"},Ce={class:"small-panel-content"},Pe={class:"content-left"},Ue=V({name:"dashboard",__name:"dashboard",setup(Ae){let y,w;const T=new Date,{t:u}=B.useI18n(),F=R(),D=C();P();const i=z({charts:[],remark:"dashboard.Loading",workingTimeFormat:"",pauseWork:!1}),M=z({userRegNumber:0,fileNumber:0,usersNumber:0,addonsNumber:0}),m=j(M);g(m.userRegNumber,{duration:1500}),g(m.fileNumber,{duration:1500}),g(m.usersNumber,{duration:1500}),g(m.addonsNumber,{duration:1500});const _={fontSize:"28px"},b=()=>{E().then(a=>{o.value.today_sell=a.data.today_sell,o.value.today_order=a.data.today_order,o.value.last_sell=a.data.last_sell,o.value.last_order=a.data.last_order,o.value.today_agent_money=a.data.today_agent_money,o.value.last_agent_money=a.data.last_agent_money,o.value.today_kl=a.data.today_kl,o.value.last_kl=a.data.last_kl})},S=()=>{m.userRegNumber.value=5456,m.fileNumber.value=1234,m.usersNumber.value=9486,m.addonsNumber.value=875},o=G({today_sell:0,today_order:0,last_sell:0,last_order:0,today_agent_money:0,last_agent_money:0,today_kl:0,last_kl:0}),I=()=>{Q(()=>{for(const a in i.charts)i.charts[a].resize()})},W=()=>{const a=parseInt((new Date().getTime()/1e3).toString()),s=f.get(p);i.pauseWork?(s.pauseTime+=a-s.startPauseTime,s.startPauseTime=0,f.set(p,s),i.pauseWork=!1,N()):(s.startPauseTime=a,f.set(p,s),clearInterval(y),i.pauseWork=!0)},N=()=>{const a=f.get(p)||{date:"",startTime:0,pauseTime:0,startPauseTime:0},s=T.getFullYear()+"-"+(T.getMonth()+1)+"-"+T.getDate(),l=parseInt((new Date().getTime()/1e3).toString());a.date!=s&&(a.date=s,a.startTime=l,a.pauseTime=a.startPauseTime=0,f.set(p,a));let d=0;a.startPauseTime<=0?(i.pauseWork=!1,d=0):(i.pauseWork=!0,d=l-a.startPauseTime);let n=l-a.startTime-a.pauseTime-d;i.workingTimeFormat=x(n),i.pauseWork||(y=window.setInterval(()=>{n++,i.workingTimeFormat=x(n)},1e3))},x=a=>{var s=0,l=0,d=0,n=0,r="";return a<60?s=a:(l=Math.floor(a/60),s=Math.floor(a%60),l>=60&&(d=Math.floor(l/60),l=Math.floor(l%60),d>=24&&(n=Math.floor(d/24),d=Math.floor(d%24)))),r=d+u("dashboard.hour")+((l>=10?l:"0"+l)+u("dashboard.minute"))+((s>=10?s:"0"+s)+u("dashboard.second")),n>0&&(r=n+u("dashboard.day")+r),r};return Y(()=>{N(),S(),b(),w=window.setInterval(b,6e4),U(window,"resize",I)}),J(()=>{for(const a in i.charts)i.charts[a].dispose()}),O(()=>{clearInterval(y),clearInterval(w)}),q(()=>F.state.tabFullScreen,()=>{I()}),(a,s)=>{const l=k("el-col"),d=k("el-row"),n=k("Icon"),r=k("el-statistic");return K(),$("div",ee,[e("div",se,[t(d,{gutter:10},{default:c(()=>[t(l,{md:24,lg:18},{default:c(()=>[e("div",ae,[e("img",{class:"welcome-img",src:v(Z),alt:""},null,8,te),e("div",le,[e("div",oe,h(v(D).nickname+v(u)("utils.comma")+v(A)()),1),e("div",ne,h(i.remark),1)])])]),_:1}),t(l,{lg:6,class:"hidden-md-and-down"},{default:c(()=>[e("div",ie,[e("img",{class:"working-coffee",src:v(X),alt:""},null,8,de),e("div",re,[H(h(v(u)("dashboard.You have worked today")),1),e("span",ce,h(i.workingTimeFormat),1)]),e("div",{onClick:s[0]||(s[0]=Le=>W()),class:"working-opt working-rest"},h(i.pauseWork?v(u)("dashboard.Continue to work"):v(u)("dashboard.have a bit of rest")),1)])]),_:1})]),_:1})]),e("div",ue,[t(d,{gutter:20},{default:c(()=>[t(l,{sm:12,lg:6},{default:c(()=>[e("div",me,[s[1]||(s[1]=e("div",{class:"small-panel-title"},"今日金额",-1)),e("div",_e,[e("div",ve,[t(n,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),t(r,{value:o.value.today_sell,"value-style":_},null,8,["value"])])])])]),_:1}),t(l,{sm:12,lg:6},{default:c(()=>[e("div",fe,[s[2]||(s[2]=e("div",{class:"small-panel-title"},"今日单量",-1)),e("div",pe,[e("div",he,[t(n,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),t(r,{value:o.value.today_order,"value-style":_},null,8,["value"])])])])]),_:1}),t(l,{sm:12,lg:6},{default:c(()=>[e("div",ge,[s[3]||(s[3]=e("div",{class:"small-panel-title"},"今日代理余额",-1)),e("div",ke,[e("div",ye,[t(n,{color:"#74A8B5",size:"20",name:"fa fa-users"}),t(r,{value:o.value.today_agent_money,"value-style":_},null,8,["value"])])])])]),_:1}),t(l,{sm:12,lg:6},{default:c(()=>[e("div",Te,[s[4]||(s[4]=e("div",{class:"small-panel-title"},"今日扣量",-1)),e("div",we,[e("div",be,[t(n,{color:"#F48595",size:"20",name:"fa fa-object-group"}),t(r,{value:o.value.today_kl,"value-style":_},null,8,["value"])])])])]),_:1})]),_:1})]),e("div",Ie,[t(d,{gutter:20},{default:c(()=>[t(l,{sm:12,lg:6},{default:c(()=>[e("div",Ne,[s[5]||(s[5]=e("div",{class:"small-panel-title"},"昨日金额",-1)),e("div",xe,[e("div",ze,[t(n,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),t(r,{value:o.value.last_sell,"value-style":_},null,8,["value"])])])])]),_:1}),t(l,{sm:12,lg:6},{default:c(()=>[e("div",Fe,[s[6]||(s[6]=e("div",{class:"small-panel-title"},"昨日单量",-1)),e("div",De,[e("div",Me,[t(n,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),t(r,{value:o.value.last_order,"value-style":_},null,8,["value"])])])])]),_:1}),t(l,{sm:12,lg:6},{default:c(()=>[e("div",Se,[s[7]||(s[7]=e("div",{class:"small-panel-title"},"昨日代理余额",-1)),e("div",We,[e("div",Be,[t(n,{color:"#74A8B5",size:"20",name:"fa fa-users"}),t(r,{value:o.value.last_agent_money,"value-style":_},null,8,["value"])])])])]),_:1}),t(l,{sm:12,lg:6},{default:c(()=>[e("div",Re,[s[8]||(s[8]=e("div",{class:"small-panel-title"},"昨日扣量",-1)),e("div",Ce,[e("div",Pe,[t(n,{color:"#F48595",size:"20",name:"fa fa-object-group"}),t(r,{value:o.value.last_kl,"value-style":_},null,8,["value"])])])])]),_:1})]),_:1})])])}}}),Ge=L(Ue,[["__scopeId","data-v-0b865f06"]]);export{Ge as default};
