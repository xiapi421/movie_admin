import{y as f,a6 as b}from"./index-1-nUz7CC.js";import{_ as m}from"./popupForm.vue_vue_type_script_setup_true_lang-C68w6CgE.js";import{d as _,b as h,T as g,a as w}from"./index-E43VjxuW.js";import{a as y}from"./real-sEHDlSc0.js";import{_ as k}from"./subUser.vue_vue_type_script_setup_true_lang-qV3-RE2g.js";import{e as x,p as c,ar as E,z as B,m as T,o as p,h as N,v as l,N as R,V as v,l as o,ae as A,af as d}from"./vue-DR1O_Lo1.js";import"./index-BqJcVx8g.js";import"./index-BtjADXZj.js";const P={class:"default-main ba-table-box"},$=x({name:"agent",__name:"index",setup(q){const{t:a}=f.useI18n(),n=c(),i=c();let s=_(["edit","delete"]);s=[{render:"tipButton",name:"info",title:"添加代理",text:"添加代理",type:"primary",icon:"fa fa-search-plus",class:"table-row-info",disabledTip:!1,click:e=>{A.prompt("请输入子代理用户名","添加子代理",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入子代理用户名"}).then(({value:t})=>{y(t,e.id).then(()=>{d.success("添加成功")}).catch(()=>{d.error("添加失败")})}).catch(()=>{})},display:(e,t)=>!0,disabled:(e,t)=>!1,attr:{}},{render:"tipButton",name:"getsubs",title:"查看子代理",text:"查看子代理",type:"success",icon:"fa fa-search",class:"table-row-info",disabledTip:!1,click:e=>{var t;(t=i.value)==null||t.open(e.id)},display:(e,t)=>!0,disabled:(e,t)=>!1,attr:{}}].concat(s);const r=new h(new b("/admin/Agent/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:a("agent.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:a("agent.username"),prop:"username",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:"LIKE",sortable:!1},{label:a("agent.money"),prop:"money",align:"center",operator:"RANGE",sortable:!1},{label:a("agent.rate"),prop:"rate",align:"center",operator:"RANGE",sortable:!1},{label:"今日销售额",prop:"agent_today_sell",align:"center",operator:"RANGE",sortable:!1},{label:"昨日销售额",prop:"agent_yesterday_sell",align:"center",operator:"RANGE",sortable:!1},{label:"历史销售额",prop:"all_sell",align:"center",operator:"RANGE",sortable:!1},{label:a("agent.txPassword"),prop:"txPassword",align:"center",operatorPlaceholder:a("Fuzzy query"),operator:"LIKE",sortable:!1},{label:a("Operate"),align:"center",width:300,render:"buttons",buttons:s,operator:!1}],dblClickNotEditColumn:[void 0]},{items:{password:"",newPassword:""},defaultItems:{password:"",newPassword:""}});return E("baTable",r),B(()=>{var e;r.table.ref=n.value,r.mount(),(e=r.getIndex())==null||e.then(()=>{r.initSort(),r.dragSort()})}),(e,t)=>{const u=T("el-alert");return p(),N("div",P,[l(r).table.remark?(p(),R(u,{key:0,class:"ba-table-alert",title:l(r).table.remark,type:"info","show-icon":""},null,8,["title"])):v("",!0),o(g,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":l(a)("Quick search placeholder",{fields:l(a)("agent.quick Search Fields")})},null,8,["quick-search-placeholder"]),o(w,{ref_key:"tableRef",ref:n},null,512),o(m),o(k,{ref_key:"subUserRef",ref:i},null,512)])}}});export{$ as default};
